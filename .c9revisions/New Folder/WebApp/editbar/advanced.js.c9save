{"ts":1378904385706,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1378904472669,"patch":[[{"diffs":[[1,"/**\r\n * Full HTML5 compatibility rule set\r\n * These rules define which tags and CSS classes are supported and which tags should be specially treated.\r\n *\r\n * Examples based on this rule set:\r\n *\r\n *    <a href=\"http://foobar.com\">foo</a>\r\n *    ... becomes ...\r\n *    <a href=\"http://foobar.com\" target=\"_blank\" rel=\"nofollow\">foo</a>\r\n *\r\n *    <img align=\"left\" src=\"http://foobar.com/image.png\">\r\n *    ... becomes ...\r\n *    <img class=\"wysiwyg-float-left\" src=\"http://foobar.com/image.png\" alt=\"\">\r\n *\r\n *    <div>foo<script>alert(document.cookie)</script></div>\r\n *    ... becomes ...\r\n *    <div>foo</div>\r\n *\r\n *    <marquee>foo</marquee>\r\n *    ... becomes ...\r\n *    <span>foo</span>\r\n *\r\n *    foo <br clear=\"both\"> bar\r\n *    ... becomes ...\r\n *    foo <br class=\"wysiwyg-clear-both\"> bar\r\n *\r\n *    <div>hello <iframe src=\"http://google.com\"></iframe></div>\r\n *    ... becomes ...\r\n *    <div>hello </div>\r\n *\r\n *    <center>hello</center>\r\n *    ... becomes ...\r\n *    <div class=\"wysiwyg-text-align-center\">hello</div>\r\n */\r\nvar wysihtml5ParserRules = {\r\n    /**\r\n     * CSS Class white-list\r\n     * Following CSS classes won't be removed when parsed by the wysihtml5 HTML parser\r\n     */\r\n    \"classes\": {\r\n        \"wysiwyg-clear-both\": 1,\r\n        \"wysiwyg-clear-left\": 1,\r\n        \"wysiwyg-clear-right\": 1,\r\n        \"wysiwyg-color-aqua\": 1,\r\n        \"wysiwyg-color-black\": 1,\r\n        \"wysiwyg-color-blue\": 1,\r\n        \"wysiwyg-color-fuchsia\": 1,\r\n        \"wysiwyg-color-gray\": 1,\r\n        \"wysiwyg-color-green\": 1,\r\n        \"wysiwyg-color-lime\": 1,\r\n        \"wysiwyg-color-maroon\": 1,\r\n        \"wysiwyg-color-navy\": 1,\r\n        \"wysiwyg-color-olive\": 1,\r\n        \"wysiwyg-color-purple\": 1,\r\n        \"wysiwyg-color-red\": 1,\r\n        \"wysiwyg-color-silver\": 1,\r\n        \"wysiwyg-color-teal\": 1,\r\n        \"wysiwyg-color-white\": 1,\r\n        \"wysiwyg-color-yellow\": 1,\r\n        \"wysiwyg-float-left\": 1,\r\n        \"wysiwyg-float-right\": 1,\r\n        \"wysiwyg-font-size-large\": 1,\r\n        \"wysiwyg-font-size-larger\": 1,\r\n        \"wysiwyg-font-size-medium\": 1,\r\n        \"wysiwyg-font-size-small\": 1,\r\n        \"wysiwyg-font-size-smaller\": 1,\r\n        \"wysiwyg-font-size-x-large\": 1,\r\n        \"wysiwyg-font-size-x-small\": 1,\r\n        \"wysiwyg-font-size-xx-large\": 1,\r\n        \"wysiwyg-font-size-xx-small\": 1,\r\n        \"wysiwyg-text-align-center\": 1,\r\n        \"wysiwyg-text-align-justify\": 1,\r\n        \"wysiwyg-text-align-left\": 1,\r\n        \"wysiwyg-text-align-right\": 1\r\n    },\r\n    /**\r\n     * Tag list\r\n     *\r\n     * The following options are available:\r\n     *\r\n     *    - add_class:        converts and deletes the given HTML4 attribute (align, clear, ...) via the given method to a css class\r\n     *                        The following methods are implemented in wysihtml5.dom.parse:\r\n     *                          - align_text:  converts align attribute values (right/left/center/justify) to their corresponding css class \"wysiwyg-text-align-*\")\r\n     *                            <p align=\"center\">foo</p> ... becomes ... <p> class=\"wysiwyg-text-align-center\">foo</p>\r\n     *                          - clear_br:    converts clear attribute values left/right/all/both to their corresponding css class \"wysiwyg-clear-*\"\r\n     *                            <br clear=\"all\"> ... becomes ... <br class=\"wysiwyg-clear-both\">\r\n     *                          - align_img:    converts align attribute values (right/left) on <img> to their corresponding css class \"wysiwyg-float-*\"\r\n     *                          \r\n     *    - remove:             removes the element and its content\r\n     *\r\n     *    - rename_tag:         renames the element to the given tag\r\n     *\r\n     *    - set_class:          adds the given class to the element (note: make sure that the class is in the \"classes\" white list above)\r\n     *\r\n     *    - set_attributes:     sets/overrides the given attributes\r\n     *\r\n     *    - check_attributes:   checks the given HTML attribute via the given method\r\n     *                            - url:            allows only valid urls (starting with http:// or https://)\r\n     *                            - src:            allows something like \"/foobar.jpg\", \"http://google.com\", ...\r\n     *                            - href:           allows something like \"mailto:bert@foo.com\", \"http://google.com\", \"/foobar.jpg\"\r\n     *                            - alt:            strips unwanted characters. if the attribute is not set, then it gets set (to ensure valid and compatible HTML)\r\n     *                            - numbers:  ensures that the attribute only contains numeric characters\r\n     */\r\n    \"tags\": {\r\n        \"tr\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"strike\": {\r\n            \"remove\": 1\r\n        },\r\n        \"form\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"rt\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"code\": {},\r\n        \"acronym\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"br\": {\r\n            \"add_class\": {\r\n                \"clear\": \"clear_br\"\r\n            }\r\n        },\r\n        \"details\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"h4\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"em\": {},\r\n        \"title\": {\r\n            \"remove\": 1\r\n        },\r\n        \"multicol\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"figure\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"xmp\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"small\": {\r\n            \"rename_tag\": \"span\",\r\n            \"set_class\": \"wysiwyg-font-size-smaller\"\r\n        },\r\n        \"area\": {\r\n            \"remove\": 1\r\n        },\r\n        \"time\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"dir\": {\r\n            \"rename_tag\": \"ul\"\r\n        },\r\n        \"bdi\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"command\": {\r\n            \"remove\": 1\r\n        },\r\n        \"ul\": {},\r\n        \"progress\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"dfn\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"iframe\": {\r\n            \"remove\": 1\r\n        },\r\n        \"figcaption\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"a\": {\r\n            \"check_attributes\": {\r\n                \"href\": \"url\" // if you compiled master manually then change this from 'url' to 'href'\r\n            },\r\n            \"set_attributes\": {\r\n                \"rel\": \"nofollow\",\r\n                \"target\": \"_blank\"\r\n            }\r\n        },\r\n        \"img\": {\r\n            \"check_attributes\": {\r\n                \"width\": \"numbers\",\r\n                \"alt\": \"alt\",\r\n                \"src\": \"url\", // if you compiled master manually then change this from 'url' to 'src'\r\n                \"height\": \"numbers\"\r\n            },\r\n            \"add_class\": {\r\n                \"align\": \"align_img\"\r\n            }\r\n        },\r\n        \"rb\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"footer\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"noframes\": {\r\n            \"remove\": 1\r\n        },\r\n        \"abbr\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"u\": {},\r\n        \"bgsound\": {\r\n            \"remove\": 1\r\n        },\r\n        \"sup\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"address\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"basefont\": {\r\n            \"remove\": 1\r\n        },\r\n        \"nav\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"h1\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"head\": {\r\n            \"remove\": 1\r\n        },\r\n        \"tbody\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"dd\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"s\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"li\": {},\r\n        \"td\": {\r\n            \"check_attributes\": {\r\n                \"rowspan\": \"numbers\",\r\n                \"colspan\": \"numbers\"\r\n            },\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"object\": {\r\n            \"remove\": 1\r\n        },\r\n        \"div\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"option\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"select\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"i\": {},\r\n        \"track\": {\r\n            \"remove\": 1\r\n        },\r\n        \"wbr\": {\r\n            \"remove\": 1\r\n        },\r\n        \"fieldset\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"big\": {\r\n            \"rename_tag\": \"span\",\r\n            \"set_class\": \"wysiwyg-font-size-larger\"\r\n        },\r\n        \"button\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"noscript\": {\r\n            \"remove\": 1\r\n        },\r\n        \"svg\": {\r\n            \"remove\": 1\r\n        },\r\n        \"input\": {\r\n            \"remove\": 1\r\n        },\r\n        \"table\": {},\r\n        \"keygen\": {\r\n            \"remove\": 1\r\n        },\r\n        \"h5\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"meta\": {\r\n            \"remove\": 1\r\n        },\r\n        \"map\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"isindex\": {\r\n            \"remove\": 1\r\n        },\r\n        \"mark\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"caption\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"tfoot\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"base\": {\r\n            \"remove\": 1\r\n        },\r\n        \"video\": {\r\n            \"remove\": 1\r\n        },\r\n        \"strong\": {},\r\n        \"canvas\": {\r\n            \"remove\": 1\r\n        },\r\n        \"output\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"marquee\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"b\": {},\r\n        \"q\": {\r\n            \"check_attributes\": {\r\n                \"cite\": \"url\"\r\n            }\r\n        },\r\n        \"applet\": {\r\n            \"remove\": 1\r\n        },\r\n        \"span\": {},\r\n        \"rp\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"spacer\": {\r\n            \"remove\": 1\r\n        },\r\n        \"source\": {\r\n            \"remove\": 1\r\n        },\r\n        \"aside\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"frame\": {\r\n            \"remove\": 1\r\n        },\r\n        \"section\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"body\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"ol\": {},\r\n        \"nobr\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"html\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"summary\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"var\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"del\": {\r\n            \"remove\": 1\r\n        },\r\n        \"blockquote\": {\r\n            \"check_attributes\": {\r\n                \"cite\": \"url\"\r\n            }\r\n        },\r\n        \"style\": {\r\n            \"remove\": 1\r\n        },\r\n        \"device\": {\r\n            \"remove\": 1\r\n        },\r\n        \"meter\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"h3\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"textarea\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"embed\": {\r\n            \"remove\": 1\r\n        },\r\n        \"hgroup\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"font\": {\r\n            \"rename_tag\": \"span\",\r\n            \"add_class\": {\r\n                \"size\": \"size_font\"\r\n            }\r\n        },\r\n        \"tt\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"noembed\": {\r\n            \"remove\": 1\r\n        },\r\n        \"thead\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"blink\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"plaintext\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"xml\": {\r\n            \"remove\": 1\r\n        },\r\n        \"h6\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"param\": {\r\n            \"remove\": 1\r\n        },\r\n        \"th\": {\r\n            \"check_attributes\": {\r\n                \"rowspan\": \"numbers\",\r\n                \"colspan\": \"numbers\"\r\n            },\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"legend\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"hr\": {},\r\n        \"label\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"dl\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"kbd\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"listing\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"dt\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"nextid\": {\r\n            \"remove\": 1\r\n        },\r\n        \"pre\": {},\r\n        \"center\": {\r\n            \"rename_tag\": \"div\",\r\n            \"set_class\": \"wysiwyg-text-align-center\"\r\n        },\r\n        \"audio\": {\r\n            \"remove\": 1\r\n        },\r\n        \"datalist\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"samp\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"col\": {\r\n            \"remove\": 1\r\n        },\r\n        \"article\": {\r\n            \"rename_tag\": \"div\"\r\n        },\r\n        \"cite\": {},\r\n        \"link\": {\r\n            \"remove\": 1\r\n        },\r\n        \"script\": {\r\n            \"remove\": 1\r\n        },\r\n        \"bdo\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"menu\": {\r\n            \"rename_tag\": \"ul\"\r\n        },\r\n        \"colgroup\": {\r\n            \"remove\": 1\r\n        },\r\n        \"ruby\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"h2\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"ins\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"p\": {\r\n            \"add_class\": {\r\n                \"align\": \"align_text\"\r\n            }\r\n        },\r\n        \"sub\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"comment\": {\r\n            \"remove\": 1\r\n        },\r\n        \"frameset\": {\r\n            \"remove\": 1\r\n        },\r\n        \"optgroup\": {\r\n            \"rename_tag\": \"span\"\r\n        },\r\n        \"header\": {\r\n            \"rename_tag\": \"div\"\r\n        }\r\n    }\r\n};"]],"start1":0,"start2":0,"length1":0,"length2":14548}]],"length":14548,"saved":false}
